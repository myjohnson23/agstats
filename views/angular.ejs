<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel="stylesheet" href="/stylesheets/bootstrap.css">
    <link rel="stylesheet" href="/stylesheets/bootstrap.css.map">
    <link rel="stylesheet" href="/stylesheets/style.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.js"></script>
    <script type="text/javascript" src="/javascripts/d3/d3.js" charset="UTF-8"></script>
    <script type="text/javascript" src="/javascripts/angular/angular.js"></script>
    <script type="text/javascript" src="/javascripts/angular-app.js"></script>
    <script type="text/javascript" src="/javascripts/chart.js"></script>
  </head>
  <body class="container" ng-app="agStats">
    <h1><%= title %></h1>
    <p>Welcome to <%= title %></p>
    <div ng-controller="agStatsCtrl">
      <my-scatter-chart class="chart"></my-scatter-chart>
      <my-bar-chart class="chart"></my-bar-chart>
      <div class="alert alert-info">
        <p>Sort Type: {{ sortType }}</p>
        <p>Sort Reverse: {{ sortReverse }}</p>
        <p>Search Query: {{ sortPlayerName }}</p>
      </div>
      <table class="table table-bordered table-striped">
        <thead>
          <tr>
              <th><a href="#" ng-click="sortType = 'playerID'; sortReverse = !sortReverse">
                Player Name
                <span ng-show="sortType == 'playerID' && !sortReverse" class="fa fa-caret-down"></span>
                <span ng-show="sortType == 'playerID' && sortReverse" class="fa fa-caret-up"></span>
              </a></th>
              <th><a href="#" ng-click="sortType = 'HR'; sortReverse = !sortReverse">
                Homeruns
                <span ng-show="sortType == 'HR' && !sortReverse" class="fa fa-caret-down"></span>
                <span ng-show="sortType == 'HR' && sortReverse" class="fa fa-caret-up"></span>
              </a></th>
              <th><a href="#" ng-click="sortType = 'H'; sortReverse = !sortReverse">
                Hits
                <span ng-show="sortType == 'H' && !sortReverse" class="fa fa-caret-down"></span>
                <span ng-show="sortType == 'H' && sortReverse" class="fa fa-caret-up"></span>
              </a></th>
              <th><a href="#" ng-click="sortType = 'RBI'; sortReverse = !sortReverse">
                RBI
                <span ng-show="sortType == 'RBI' && !sortReverse" class="fa fa-caret-down"></span>
                <span ng-show="sortType == 'RBI' && sortReverse" class="fa fa-caret-up"></span>
              </a></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="player in players.data | orderBy:sortType:sortReverse">
              <td>{{player.playerID}}</td>
              <td>{{player.HR}}</td>
              <td>{{player.H}}</td>
              <td>{{player.RBI}}</td>
          </tr>
          </tbody>
      </table>
    </div>
  </body>
</html>
